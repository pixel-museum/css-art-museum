<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Particle Constellation</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      overflow: hidden;
      background: linear-gradient(135deg, #0a0015 0%, #1a0033 50%, #2d0a4e 100%);
      font-family: 'Arial', sans-serif;
    }
    canvas {
      display: block;
      cursor: crosshair;
    }
    .info {
      position: absolute;
      top: 20px;
      left: 20px;
      color: rgba(255, 255, 255, 0.6);
      font-size: 14px;
      text-shadow: 0 0 10px rgba(138, 43, 226, 0.5);
      pointer-events: none;
    }
  </style>
</head>
<body>
  <canvas id="canvas"></canvas>
  <div class="info">Move your mouse to interact â€¢ Click to create bursts</div>
  
  <script>
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');
    
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    
    let particles = [];
    let mouse = { x: null, y: null, radius: 150 };
    let hue = 0;
    
    window.addEventListener('mousemove', (e) => {
      mouse.x = e.x;
      mouse.y = e.y;
    });
    
    window.addEventListener('click', (e) => {
      for (let i = 0; i < 30; i++) {
        particles.push(new Particle(e.x, e.y, true));
      }
    });
    
    window.addEventListener('resize', () => {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
      init();
    });
    
    class Particle {
      constructor(x, y, burst = false) {
        this.x = x || Math.random() * canvas.width;
        this.y = y || Math.random() * canvas.height;
        this.size = Math.random() * 3 + 1;
        this.baseX = this.x;
        this.baseY = this.y;
        this.density = Math.random() * 30 + 1;
        this.distance = 0;
        this.hue = Math.random() * 60 + 240;
        
        if (burst) {
          const angle = Math.random() * Math.PI * 2;
          const speed = Math.random() * 5 + 2;
          this.vx = Math.cos(angle) * speed;
          this.vy = Math.sin(angle) * speed;
          this.life = 1;
          this.isBurst = true;
        } else {
          this.vx = (Math.random() - 0.5) * 0.5;
          this.vy = (Math.random() - 0.5) * 0.5;
        }
      }
      
      update() {
        if (this.isBurst) {
          this.life -= 0.01;
          this.x += this.vx;
          this.y += this.vy;
          this.vy += 0.1;
          if (this.life <= 0) return false;
        } else {
          let dx = mouse.x - this.x;
          let dy = mouse.y - this.y;
          this.distance = Math.sqrt(dx * dx + dy * dy);
          
          if (this.distance < mouse.radius) {
            const forceX = dx / this.distance;
            const forceY = dy / this.distance;
            const force = (mouse.radius - this.distance) / mouse.radius;
            const directionX = forceX * force * this.density * 0.6;
            const directionY = forceY * force * this.density * 0.6;
            
            this.x -= directionX;
            this.y -= directionY;
          } else {
            if (this.x !== this.baseX) {
              let dx = this.x - this.baseX;
              this.x -= dx / 20;
            }
            if (this.y !== this.baseY) {
              let dy = this.y - this.baseY;
              this.y -= dy / 20;
            }
          }
          
          this.x += this.vx;
          this.y += this.vy;
          
          if (this.x < 0 || this.x > canvas.width) this.vx *= -1;
          if (this.y < 0 || this.y > canvas.height) this.vy *= -1;
        }
        return true;
      }
      
      draw() {
        const alpha = this.isBurst ? this.life : 0.8;
        ctx.fillStyle = `hsla(${this.hue}, 100%, 60%, ${alpha})`;
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
        ctx.fill();
        
        ctx.shadowBlur = 15;
        ctx.shadowColor = `hsla(${this.hue}, 100%, 60%, 0.5)`;
      }
    }
    
    function init() {
      particles = [];
      const numberOfParticles = Math.floor((canvas.width * canvas.height) / 9000);
      for (let i = 0; i < numberOfParticles; i++) {
        particles.push(new Particle());
      }
    }
    
    function connect() {
      for (let a = 0; a < particles.length; a++) {
        for (let b = a + 1; b < particles.length; b++) {
          const dx = particles[a].x - particles[b].x;
          const dy = particles[a].y - particles[b].y;
          const distance = Math.sqrt(dx * dx + dy * dy);
          
          if (distance < 120) {
            const opacity = 1 - (distance / 120);
            ctx.strokeStyle = `hsla(${particles[a].hue}, 100%, 60%, ${opacity * 0.3})`;
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(particles[a].x, particles[a].y);
            ctx.lineTo(particles[b].x, particles[b].y);
            ctx.stroke();
          }
        }
      }
    }
    
    function animate() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      
      particles = particles.filter(p => p.update());
      particles.forEach(p => p.draw());
      connect();
      
      hue += 0.5;
      requestAnimationFrame(animate);
    }
    
    init();
    animate();
  </script>
</body>
</html>